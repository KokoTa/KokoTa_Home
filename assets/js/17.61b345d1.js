(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{299:function(r,t,e){"use strict";e.r(t);var n=e(14),a=Object(n.a)({},(function(){var r=this,t=r._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h1",{attrs:{id:"内网穿透"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内网穿透"}},[r._v("#")]),r._v(" 内网穿透")]),r._v(" "),t("p",[r._v("docker 相关的东西暂且不谈(官网大法好)，让我们来研究一下内网穿透(因为我真的不想一直提交代码到服务器上啊喂！)")]),r._v(" "),t("p",[r._v("之前使用了付费的 "),t("code",[r._v("natapp")]),r._v(" 完成了微信对接，实际上就是租了一个他们的服务器，然后利用他们的服务器来完成穿透")]),r._v(" "),t("p",[r._v("现在有了自己的服务器，也就没必要去花钱了")]),r._v(" "),t("p",[r._v("关于 "),t("code",[r._v("内网穿透")]),r._v(" 的教程网上大多都挺繁琐的，对于我这种懒癌来说，"),t("a",{attrs:{href:"https://github.com/fatedier/frp",target:"_blank",rel:"noopener noreferrer"}},[r._v("frp"),t("OutboundLink")],1),r._v(" 真是省心省力")]),r._v(" "),t("h2",{attrs:{id:"逻辑图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#逻辑图"}},[r._v("#")]),r._v(" 逻辑图")]),r._v(" "),t("p",[t("img",{attrs:{src:"/images/frp%E6%B5%81%E7%A8%8B.png",alt:"frp 逻辑图"}})]),r._v(" "),t("h2",{attrs:{id:"构建流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建流程"}},[r._v("#")]),r._v(" 构建流程")]),r._v(" "),t("ol",[t("li",[t("p",[r._v("本地主机下载 FileZilla 和 XShell 来操控远程服务器和虚拟机")])]),r._v(" "),t("li",[t("p",[r._v("根据 "),t("a",{attrs:{href:"https://github.com/fatedier/frp/blob/master/README_zh.md",target:"_blank",rel:"noopener noreferrer"}},[r._v("frp"),t("OutboundLink")],1),r._v(" 文档下载代码和进行配置，接着放入对应的主机中\n```shell\n# frpc.ini\n[common]\nserver_addr = xxx.xxx.xxx.xxx\nserver_port = 7000")]),r._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[r._v(" [mysql]\n type = tcp\n local_ip = 127.0.0.1\n local_port = 28002\n remote_port = 28002\n\n # frps.ini\n [common]\n bind_port = 7000\n ```\n")])])])]),r._v(" "),t("li",[t("p",[r._v("远程服务器（腾讯云）开放白名单，"),t("a",{attrs:{href:"https://www.centoschina.cn/course/config-centos/9119.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("firewalld"),t("OutboundLink")],1),r._v(" 记得通过 7000 和 28002 端口")])]),r._v(" "),t("li",[t("p",[r._v("虚拟机安装 "),t("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/centos/",target:"_blank",rel:"noopener noreferrer"}},[r._v("docker"),t("OutboundLink")],1),r._v("，同理设置 firewalld 通过 7000 和 28002 端口")])]),r._v(" "),t("li",[t("p",[r._v("虚拟机安装运行 mysql 并映射到 28002 端口")])]),r._v(" "),t("li",[t("p",[r._v("远程服务器和虚拟机都打开 frp 程序")])]),r._v(" "),t("li",[t("p",[r._v("本地主机使用 navicat 连接远程服务器的 28002 端口，检查是否连接成功")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);