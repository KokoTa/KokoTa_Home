<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>移动端适配 | KokoTa&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/KokoTa_Home/assets/css/0.styles.42391945.css" as="style"><link rel="preload" href="/KokoTa_Home/assets/js/app.5aa2fc63.js" as="script"><link rel="preload" href="/KokoTa_Home/assets/js/2.f316d9e6.js" as="script"><link rel="preload" href="/KokoTa_Home/assets/js/26.84be1e5d.js" as="script"><link rel="prefetch" href="/KokoTa_Home/assets/js/10.a9408bab.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/11.afe9acb0.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/12.20b684e8.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/13.96a14a48.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/14.7fbab43c.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/15.c94cf8e5.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/16.636c15bf.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/17.61b345d1.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/18.6438c8af.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/19.a7367e7f.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/20.afbf2002.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/21.189a1078.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/22.024a4a11.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/23.781c0901.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/24.25347c92.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/25.713bc585.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/27.a914d101.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/28.cc74e010.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/29.8c624b89.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/3.137d0a24.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/30.db83752a.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/31.8a4e8fdb.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/32.27e1eac7.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/33.49f44af8.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/34.242d9c41.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/35.2da8abc4.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/36.8e90cb74.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/37.ddbb7313.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/38.46018d6a.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/39.126f7b49.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/4.a018097d.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/40.52371e0b.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/41.dc35554b.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/42.90cf799c.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/43.417fb137.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/44.b5b86393.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/45.62db7fc8.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/46.33329211.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/47.5dd730b0.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/48.8bf9775b.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/49.4aa4884e.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/5.f4fd9258.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/6.768d9e6b.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/7.37408dde.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/8.34002bbc.js"><link rel="prefetch" href="/KokoTa_Home/assets/js/9.e96cfb2c.js">
    <link rel="stylesheet" href="/KokoTa_Home/assets/css/0.styles.42391945.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/KokoTa_Home/" class="home-link router-link-active"><!----> <span class="site-name">KokoTa's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/KokoTa_Home/front/" class="sidebar-heading clickable router-link-active open"><span>旧文章迁移</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/KokoTa_Home/front/盒模型与BFC与布局.html" class="sidebar-link">盒模型与BFC与布局</a></li><li><a href="/KokoTa_Home/front/事件与类型.html" class="sidebar-link">事件与类型</a></li><li><a href="/KokoTa_Home/front/HTTP.html" class="sidebar-link">HTTP</a></li><li><a href="/KokoTa_Home/front/原型.html" class="sidebar-link">原型</a></li><li><a href="/KokoTa_Home/front/类与继承.html" class="sidebar-link">类与继承</a></li><li><a href="/KokoTa_Home/front/通信与安全.html" class="sidebar-link">通信与安全</a></li><li><a href="/KokoTa_Home/front/渲染与运行与性能与监控.html" class="sidebar-link">渲染与运行与性能与监控</a></li><li><a href="/KokoTa_Home/front/HTTPS.html" class="sidebar-link">HTTPS</a></li><li><a href="/KokoTa_Home/front/Cookie与Session与Token.html" class="sidebar-link">Cookie与Session与Token</a></li><li><a href="/KokoTa_Home/front/跨域.html" class="sidebar-link">跨域</a></li><li><a href="/KokoTa_Home/front/移动端适配.html" class="active sidebar-link">移动端适配</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/KokoTa_Home/front/移动端适配.html#同比例缩放" class="sidebar-link">同比例缩放</a></li><li class="sidebar-sub-header"><a href="/KokoTa_Home/front/移动端适配.html#css像素-和-设备像素" class="sidebar-link">CSS像素 和 设备像素</a></li><li class="sidebar-sub-header"><a href="/KokoTa_Home/front/移动端适配.html#viewport" class="sidebar-link">Viewport</a></li><li class="sidebar-sub-header"><a href="/KokoTa_Home/front/移动端适配.html#rem" class="sidebar-link">Rem</a></li><li class="sidebar-sub-header"><a href="/KokoTa_Home/front/移动端适配.html#flexible方案" class="sidebar-link">Flexible方案</a></li><li class="sidebar-sub-header"><a href="/KokoTa_Home/front/移动端适配.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/KokoTa_Home/front/JS精度问题.html" class="sidebar-link">JS精度问题</a></li><li><a href="/KokoTa_Home/front/服务端踩坑日记.html" class="sidebar-link">服务端踩坑日记</a></li><li><a href="/KokoTa_Home/front/前端问题汇总.html" class="sidebar-link">前端问题汇总</a></li><li><a href="/KokoTa_Home/front/微信开发.html" class="sidebar-link">微信开发</a></li><li><a href="/KokoTa_Home/front/JS的this.html" class="sidebar-link">JS的this</a></li><li><a href="/KokoTa_Home/front/缓存.html" class="sidebar-link">缓存</a></li><li><a href="/KokoTa_Home/front/MVVM.html" class="sidebar-link">MVVM</a></li><li><a href="/KokoTa_Home/front/混合开发.html" class="sidebar-link">混合开发</a></li><li><a href="/KokoTa_Home/front/直播.html" class="sidebar-link">直播</a></li><li><a href="/KokoTa_Home/front/内网穿透.html" class="sidebar-link">内网穿透</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/KokoTa_Home/question/" class="sidebar-heading clickable"><span>前端知识汇总</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="移动端适配"><a href="#移动端适配" class="header-anchor">#</a> 移动端适配</h1> <p>我：那个...在PC端要写一个样式，在移动端也要写一个样式的专有名词是什么？
他：响应式布局~
我：那个...响应式布局和移动端适配有虾米区别？
他：前者是用来适配PC端和移动端的，后者是用来适配不同移动端的，是两个概念。
我：？？？
他：哎~响应式布局自己百度，这里我给你讲讲移动端适配。</p> <h2 id="同比例缩放"><a href="#同比例缩放" class="header-anchor">#</a> 同比例缩放</h2> <p>移动端适配，顾名思义，“在各种的设备下显示的效果都是一样的”，因此 px 这种单位是不可用的。
因为书写 CSS 用 px，指定的是 CSS像素，而这个像素，在不同设备下显示的大小都是一样的，比如 100px 的宽度：
在 <code>1000*1000</code> 的分辨率下显示了 <code>100</code> 的长度，在 <code>500*500</code> 还是显示了 <code>100</code> 的长度，
而我们的目的是希望在 <code>500*500</code> 的情况下显示 <code>50</code> 的长度，即同比例缩放。</p> <h2 id="css像素-和-设备像素"><a href="#css像素-和-设备像素" class="header-anchor">#</a> CSS像素 和 设备像素</h2> <p>首先我们需要知道一个知识点，那就是 <strong>CSS像素</strong> 和 <strong>设备像素</strong>。
前者顾名思义，就是我们平常写代码时的像素，比如：<code>1px</code>。
后者指代的是设备屏幕的像素，一般来说，安卓机 <code>1CSS像素 = 1设备像素</code>。
但是苹果有Retina屏幕，它的设备像素高于普通的屏幕，即 <code>1CSS像素 = 2设备像素</code>。
我们把 <code>设备像素/CSS像素</code> 的值称为 <strong>dpr</strong>。
综上可得：同样的CSS像素，同样的显示，不同的设备像素。</p> <p>了解了上面这个知识有什么用？
很明显，我们需要根据不同的 dpr 来作对应的适配处理。</p> <p>比如图片，假设我们用的 200x300 分辨率的图，显示大小也都是 200x300，
在 dpr = 1 时显示正常，但是在 dpr = 2 时，图片会比在 dpr = 1 时模糊。
原因是虽然显示时都是 200x300 的 <strong>CSS像素</strong>，但在高分辨率下，1px 的 <strong>物理像素</strong> 被强制撕扯到 2px。
也就是说在 dpr = 1 的情况下，图片 200x300 分辨率没问题。
在 dpr = 2 的情况下，图片需要 400x600 的分辨率才能显示得和前者一样。
也就是说对于Retina屏幕，200x300 的图片需要无损放大到 400x600 的分辨率后再以 200x300 的大小显示，才能保证图片不模糊。
在实际过程中，我们可以使用 <code>window.devicePixelRatio</code> 或者 <code>@media only screen and (min-device-pixel-ratio: 2){}</code> 来根据不同的 dpr 应用不同分辨率的图片。</p> <p>比如 1px 问题，假设我们使用了 1px 的边框，
在 dpr = 1 的情况下，显示正常，因为 <code>1CSS像素 = 1设备像素</code>，
但在 dpr = 2 的情况下，由于 <code>1CSS像素 = 2设备像素</code>，导致这个 1 个 CSS 像素要被撕扯成 2个设备像素，也就是说实际上这个边框要占据 2个设备像素 的宽度，
所以在Retina屏幕下，感觉边框变粗了，也变模糊了。
解决的方式<a href="https://www.w3cplus.com/css/fix-1px-for-retina.html" target="_blank" rel="noopener noreferrer">很多<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，
但使用 Flexible 则不用花心思到这个问题上(dpr = 2 的情况下，由于缩放 0.5 倍，原本 1css 占用 2设备像素，变为了 1css 占用 1设备像素)。</p> <h2 id="viewport"><a href="#viewport" class="header-anchor">#</a> Viewport</h2> <p>接下来我们需要了解 <code>viewport</code> 标签：
而在此之前，又得科普一下 <strong>layoutView</strong> 和 <strong>visualView</strong>。
前者是页面的布局大小，也就是网页的占用大小。
后者是手机屏幕上你想显示的页面的大小。
简单来说就是，前者是一份报纸，后者是一个可以调节大小的放大镜。
默认情况下，layoutView === visualView，也就是默认情况下，整张页面都呈现在了手机中。
这就导致了如果页面布局很宽很大，那么一坨东西都将塞在这个小小的屏幕中。
所以一般来说，我们会设置如下的 viewport 标签来避免这种情况。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1, maximum-scale=1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>设置后我们的 visualView 就被设置为设备的宽度了，比如 375px。
此时如果 layoutView &gt; 375，那么就会出现内容溢出，会出现滚动条。
<a href="http://www.w3cplus.com/css/viewports.html" target="_blank" rel="noopener noreferrer">关于 viewport 的其他内容<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="rem"><a href="#rem" class="header-anchor">#</a> Rem</h2> <p><strong>rem</strong> 单位是以根元素(html)的字号大小为基准进行计算的。
即假设根元素字号为 16px，那么 1rem === 16px，这个特性对我们很有用。</p> <h2 id="flexible方案"><a href="#flexible方案" class="header-anchor">#</a> Flexible方案</h2> <h3 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h3> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yes<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>apple-mobile-web-app-capable<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yes<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>apple-touch-fullscreen<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>telephone=no,email=no<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>format-detection<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://g.tbcdn.cn/mtb/lib-flexible/0.3.4/??flexible_css.js,flexible.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这个库的功能是：</p> <ol><li><p>动态改写<code>&lt;meta&gt;</code>标签，通过判断 dpr 来对 viewport 进行缩放：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- dpr = 1 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- dpr = 2 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=0.5,maximum-scale=0.5,minimum-scale=0.5,user-scalable=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- dpr = 3 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=0.3333333333,maximum-scale=0.3333333333,minimum-scale=0.3333333333,user-scalable=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>给<code>&lt;html&gt;</code>元素添加<code>data-dpr</code>属性，该值为 <code>dpr</code> 的值。</p></li> <li><p>给<code>&lt;html&gt;</code>元素添加<code>font-size</code>属性，该值为 <code>设备分辨率宽度 / 10</code> 的值(注意这里是设备分辨率宽度，而非屏幕宽度)。</p></li></ol> <p>这里，第 2 点和第 3 点的作用是什么呢？</p> <p>假设设计稿宽度为 750px，Flexible 将其分为 100 份，单位为 a，同时规定 10a === 1rem，即：</p> <div class="language-js extra-class"><pre class="language-js"><code>1a <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">.</span>5px
1rem <span class="token operator">=</span> 75px
</code></pre></div><p>使得 html 元素的 font-size 对应 <code>font-size = 1rem = 75px</code>，
这样一来，对于元素尺寸，只需要遵循 <code>rem值 * rem基准值 = 设计稿px值</code> 的公式即可。</p> <p>Flexible 会自动计算不同设备的 <code>rem基准值</code>，让后将这个基准值设置到 html 的 font-size 上。
<code>rem值不变</code> -&gt; <code>rem基准值动态变化</code> -&gt; <code>px值动态变化</code>，这样我们就只要适配一个设计稿就可以完成自适应了。</p> <p>PS：iphone6（dpr=2, 414x763）的设备下，1rem 是多少 px 呢？
通过公式可以知道，<code>414 x 2 / 10 = 82.8</code>，即 <code>font-size = 1rem = 82.8px</code>。</p> <h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <p>OK，现在就是根据设计稿来获取 <code>rem值</code> 了。
但问题来了，难道我每次都要手动 <code>设计稿px值 / rem基准值</code> 计算得到 <code>rem值</code>？
当然不是，我们可以通过安装 <a href="https://github.com/flashlizi/cssrem" target="_blank" rel="noopener noreferrer">CSSREM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 插件来使 px -&gt; rem（通常我们的设计稿是 750px，那么其 rem基准值 应设为 75px；同理 375px 的设计稿下，rem基准值 应设为 37.5px）。
或者利用 SCSS 的混合器或 postcss 来进行换算。</p> <p>最后，对于字体来说，我们希望它不进行自动适配。
但由于该方案进行了视图缩放，使 dpr = 1 时，字号16px；dpr = 2 时，字号8px(视图缩放了 0.5 倍)。
所以这里 <strong>data-dpr</strong> 的作用就体现出来了，我们写CSS时，通过判断这个属性值来决定是否放大字体。
dpr = 1 时，字号16px；dpr = 2 时，字号16px * 2。
这样就能保证不同 dpr 下，字体显示的大小保持一致。</p> <p>我们可以使用 SCSS 混合器来进行换算：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@mixin</span> <span class="token function">font-dpr</span><span class="token punctuation">(</span>$font-size<span class="token punctuation">)</span></span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> $font-size<span class="token punctuation">;</span>
  <span class="token selector">[data-dpr=&quot;2&quot;] &amp;</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> $font-size * 2<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">[data-dpr=&quot;3&quot;] &amp;</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> $font-size * 3<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>生产环境推荐使用以下两个工具来完成移动端适配：
<code>postcss-pxtorem</code> 是一款 postcss 插件，用于将单位转化为 rem
<code>lib-flexible</code> 用于设置 rem 基准值</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <p><a href="https://juejin.im/post/5b39905351882574c72f2808#heading-21" target="_blank" rel="noopener noreferrer">移动端布局概念<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="http://www.w3cplus.com/mobile/lib-flexible-for-html5-layout.html" target="_blank" rel="noopener noreferrer">手淘移动端适配方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="http://www.w3cplus.com/mobile/mobile-design-and-adapter.html" target="_blank" rel="noopener noreferrer">移动端上的设计和适配<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://div.io/topic/1092" target="_blank" rel="noopener noreferrer">移动端高清、多屏适配方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://segmentfault.com/a/1190000011586301" target="_blank" rel="noopener noreferrer">前端移动端适配总结<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.w3cplus.com/css/vw-for-layout.html" target="_blank" rel="noopener noreferrer">再聊移动端页面的适配 - vw/vh 方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/9/2023, 7:46:43 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/KokoTa_Home/front/跨域.html" class="prev">
        跨域
      </a></span> <span class="next"><a href="/KokoTa_Home/front/JS精度问题.html">
        JS精度问题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/KokoTa_Home/assets/js/app.5aa2fc63.js" defer></script><script src="/KokoTa_Home/assets/js/2.f316d9e6.js" defer></script><script src="/KokoTa_Home/assets/js/26.84be1e5d.js" defer></script>
  </body>
</html>
